<!DOCTYPE html>

<!--
    index.html - crowdlines
    main template file of the crowdlines social news site

    Aziz | 18 Aug 2015
-->

<html>
    <head>
        <title>Crowdlines | A Social News Site</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.10/angular.min.js"></script>
        <script src="app.js"></script>
    </head>
    
    <!-- this will be linked to the 'crowdlines' module and 'MainCtrl' controller defined within app.js -->
    <body ng-app="crowdlines" ng-controller="mainCtrl">
        
        <label>Search: <input ng-model="search"></label> <br><br>
        
        <!-- please note 'upvotes' vs '-upvotes' is ascending and descending --> 
        <div ng-repeat="post in posts | orderBy: '-upvotes' | filter: search">
            
            <!-- passing back a direct reference to the post in relevance -->
            <span ng-click="upTheVotes( post )" style="cursor: pointer;">[ &uarr; ]</span>
            
            <!-- the following is equivalent to ng-bind i.e. <span ng-bind="post"></span> -->
            {{ post.title }} - upvotes: {{ post.upvotes }}
        </div>
        
        <br>
        
        <!-- please note that one added benefit of using the 'ng-submit' directive, 
        is that the form can be submitted simply by pressing 'enter' -->
        <form ng-submit="addPost()">
            <!-- ng-model allows the value of this input to be bounded to $scope
            and so the controller will now be able to access this by $scope.title -->
            <input type="text" placeholder="Add Title" ng-model="title"><br>
            <input type="text" placeholder="Add Link" ng-model="link"><br>
            <button>Post</button>
        </form>
        
    </body>
</html>
